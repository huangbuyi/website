{"version":3,"sources":["index.js"],"names":["$","window","ready","Serials","init","container","grid","Musics","Person","Projects","Show","hash","location","$target","find","show","attr","css","on","event","preventDefault","stopPropagation","mmenu","extensions","counters","navbar","title","navbars","position","content","onClick","close","setSelected","data","update","nav_id","hide","nav","Error","selector","length","animate","scrollTop","offsetTop","click","resize","scroll","bindTouch","mc","Hammer","Manager","Swipe","add","e","open"],"mappings":"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","file":"index.js","sourcesContent":["/**\r\n * Created by Administrator on 2016/9/8.\r\n */\r\n\r\n// todo 抽出配置数据\r\n// todo 将写入html的数据抽出成配置数据，或存入数据库\r\n// todo 用插件重新电视剧页面\r\n\r\n\r\n\r\n$(window).ready(function (){\r\n\r\n    Serials.init({\r\n        container:'.serials',\r\n        grid:'.serialsCard'\r\n    });\r\n\r\n    Musics.init({\r\n        container:'.musics',\r\n        grid:'.music_card'\r\n    });\r\n    Person.init({\r\n        container:'.about_him'\r\n    })\r\n    Projects.init({\r\n        container:'.programs',\r\n        grid:'.grid'\r\n    })\r\n\r\n    init();\r\n    // 设置初始页面\r\n\r\n})\r\n\r\n\r\n\r\nfunction init(){\r\n    var Show = Person,\r\n        hash = window.location.hash,\r\n        $target = $('nav#menu').find('a:not(.disabled)[href=\\'' + hash + '\\']');\r\n\r\n\r\n    Show.show();\r\n\r\n    // 禁用未开放的功能\r\n    $('.disabled').attr('title', '功能未上线').css({'color':'rgba(0,0,0,0.34)','cursor':'default'}).on('click',function(event){\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n    });\r\n\r\n\r\n    /* 导航插件mmenu配置 */\r\n    $('nav#menu').mmenu({\r\n        extensions\t: [ 'effect-slide-menu',  'shadow-panels' ],\r\n        counters\t: true,\r\n        navbar: {\r\n            title: 'Advanced menu'  // 导航菜单头部\r\n        },\r\n        navbars: [\r\n            {\r\n                // 搜索栏\r\n                position: 'top',\r\n                content: [ 'searchfield' ]\r\n            }, {\r\n                // 关闭图标\r\n                position: 'top',\r\n                content: [\r\n                    'prev',\r\n                    'title',\r\n                    'close'\r\n                ]\r\n            }, {\r\n                // 底部自定义\r\n                position: 'bottom',\r\n                content: [\r\n                    '<a href=\"admin/index.html\" target=\"_blank\">打开后台</a>'\r\n                ]\r\n            }\r\n        ],\r\n        onClick: {\r\n            close: true,\r\n            setSelected: true\r\n        }\r\n    });\r\n\r\n    $('nav#menu').data( 'mmenu' ).update();\r\n\r\n    // 导航功能\r\n    $('nav#menu').on('click', 'a:not(.disabled)', function(event){\r\n        var nav_id = $(this).attr('id');\r\n\r\n        // 默认有效的导航项需设置id，没有id的项为导航插件自动添加的项目或自定义链接。\r\n        if(!nav_id){\r\n            return;\r\n        }\r\n\r\n        event.preventDefault();\r\n\r\n        if(typeof Show['hide'] === 'function'){\r\n            Show.hide();\r\n        } else {\r\n            $('main > div').hide();\r\n        }\r\n\r\n        var nav = {\r\n            'person': Person,\r\n            'p_introduction': Person,\r\n            'p_expr': Person,\r\n            'p_edu_expr': Person,\r\n            'p_work_expr': Person,\r\n            'p_skills': Person,\r\n            'p_hobbies': Person,\r\n            'p_contact': Person,\r\n            's_musics': Musics,\r\n            's_serials': Serials,\r\n            'w_programs': Projects\r\n        }\r\n\r\n        if(typeof nav[nav_id] !== 'object'){\r\n            throw new Error('Navigate failed:target object doesn\\'t exited');\r\n            return;\r\n        }\r\n\r\n        if(typeof Show['show'] !== 'function') {\r\n            throw new Error('Navigate failed:target object haven\\'t show function');\r\n            return;\r\n        }\r\n\r\n\r\n        Show = nav[nav_id];\r\n        Show.show();\r\n        var selector = $(this).attr('href');\r\n        if($(selector).length > 0){\r\n            $('main').animate( {scrollTop: $(selector)[0].offsetTop - 10 }, 600, 'swing');\r\n            window.location.hash = selector;\r\n        } else {\r\n            window.location.hash = '';\r\n        }\r\n    });\r\n\r\n    // 根据地址栏的hash跳转页面\r\n    if( $target.length > 0){\r\n        $target.click();\r\n    };\r\n\r\n    $(window).on('hashchange', function (event) {\r\n        var hash = window.location.hash,\r\n            $target = $('nav#menu').find('a:not(.disabled)[href=\\'' + hash + '\\']');\r\n        if( $target.length > 0){\r\n            $target.click();\r\n        }\r\n    })\r\n\r\n    $(window).on('resize', function(){\r\n\r\n        if(typeof Show['resize'] == 'function' ){\r\n            Show.resize();\r\n        }\r\n    })\r\n\r\n    $('main').on('scroll', function(){\r\n\r\n        if( typeof Show['scroll'] === 'function' ){\r\n            Show.scroll();\r\n        }\r\n    });\r\n\r\n    bindTouch();\r\n\r\n}\r\n\r\nfunction bindTouch(){\r\n    // create a manager for that element\r\n    var mc = new Hammer.Manager(window);\r\n\r\n    // create a recognizer\r\n    var Swipe = new Hammer.Swipe();\r\n\r\n    // add the recognizer\r\n    mc.add(Swipe);\r\n\r\n    // subscribe to events\r\n    mc.on('swiperight', function(e) {\r\n        $('nav#menu').data( 'mmenu' ).open();\r\n    });\r\n    mc.on('swipeleft', function(e) {\r\n        $('nav#menu').data( 'mmenu' ).close();\r\n    });\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"]}