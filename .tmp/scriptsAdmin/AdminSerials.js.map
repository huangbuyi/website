{"version":3,"sources":["AdminSerials.js"],"names":["POSTERS_PATH","IMAGES_PATH","AdminSerials","window","container","table","updating_id","init","setOptions","bindEvents","show","api","ajax","url","load","$","dataTable","autoWidth","ordering","order","jQueryUI","pagingType","dataSrc","json","data","i","j","len","len2","length","posters","images","pLink","iLink","synopsis","substring","columns","width","language","lengthMenu","search","info","paginate","first","previous","next","last","magnificPopup","delegate","type","tagsInput","height","spinner","min","max","page","step","selectmenu","checkboxradio","label","accordion","active","collapsible","heightStyle","allCollapsible","fineUploader","request","paramsInBody","endpoint","validation","acceptFiles","sizeLimit","deleteFile","enabled","params","forceConfirm","on","event","id","name","reason","console","log","responseJSON","dump","xhr","isError","alert","option","preventDefault","serialize","method","success","response","res","JSON","parse","attr","text","click","val","updateOption","addOption","resetForm","confirm","error","importTags","filter","removeAttr","_this","update","reset","hide"],"mappings":"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","file":"AdminSerials.js","sourcesContent":["/**\r\n * Created by Administrator on 2016/10/4.\r\n */\r\nvar POSTERS_PATH = \"uploads/posters/\",\r\n    IMAGES_PATH = \"uploads/images/\";\r\n\r\nvar AdminSerials = (function(window){\r\n    \"use strict\";\r\n    var container = \".serials\",\r\n        table = null,\r\n        updating_id = 0;\r\n\r\n    function init(){\r\n        setOptions();\r\n        bindEvents();\r\n    }\r\n\r\n    function show(){\r\n        // 重新加载数据\r\n        table.api().ajax.url(\"doSerialsAdmin.php?act=get&page=1&pageSize=999\").load();\r\n        $(container).show();\r\n    }\r\n\r\n    // 配置插件\r\n    function setOptions(){\r\n        table = $(\"#serials_list\").dataTable({\r\n            autoWidth: false,\r\n            ordering:true,\r\n            order:[[0, \"desc\"]],\r\n            jQueryUI: true,\r\n            pagingType:  \"full_numbers\",\r\n            ajax:{\r\n                url:\"doSerialsAdmin.php?act=get&page=1&pageSize=0\",\r\n                dataSrc: function ( json ) {\r\n                    var data = json.data,\r\n                        i,j,len,len2;\r\n\r\n                    //console.log(json);\r\n                    for (i=0, len=data.length ; i<len ; i++ ) {\r\n                        var posters = data[i]['posters'],\r\n                            images = data[i]['images'],\r\n                            pLink = \"\",\r\n                            iLink = \"\";\r\n                        for(j = 0, len2 = posters.length; j < len2; j++){\r\n                            pLink += \"<a target='_blank' href='\" + POSTERS_PATH + posters[j] + \"'>\" + (j + 1) + \" </a>\";\r\n                        }\r\n\r\n                        for(j = 0, len2 = images.length; j < len2; j++){\r\n                            iLink += \"<a target='_blank' href='\" + IMAGES_PATH + images[j] + \"'>\" + (j + 1) + \" </a>\";\r\n                        }\r\n                        pLink = pLink ? pLink : \"无\";\r\n                        iLink = iLink ? iLink : \"无\";\r\n                        data[i]['posters'] = pLink;\r\n                        data[i]['images'] = iLink;\r\n\r\n                        var synopsis = data[i]['synopsis'] ? data[i]['synopsis'] : \"\";\r\n                        data[i]['synopsis'] = synopsis.length > 20 ? synopsis.substring(0,10) + \"...\":synopsis;\r\n                        data[i]['operate'] = \"<button data-id=\" + data[i]['id'] + \" class='update_btn'>修改</button>\" +\r\n                            \"<button data-id=\" + data[i]['id'] + \" class='delete_btn'>删除</button>\"\r\n                    }\r\n                    return data;\r\n                }\r\n            },\r\n            columns: [\r\n                { data: 'id', width:'0%' },\r\n                { data: 'c_name' ,width: '0%'},\r\n                { data: 'f_name', width:'0%' },\r\n                { data: 'director', width:'0%' },\r\n                { data: 'actors' ,width: '0%'},\r\n                { data: 'district' ,width: '0%'},\r\n                { data: 'types' ,width: '0%'},\r\n                { data: 'tags' ,width: '0%'},\r\n                { data: 'issuer', width:'0%' },\r\n                { data: 'release_date', width:'0%' },\r\n                { data: 'duration' ,width: '0%'},\r\n\r\n                { data: 'episode_number', width:'0%' },\r\n                { data: 'season_number', width:'0%' },\r\n                { data: 'reco_index' ,width: '0%'},\r\n                { data: 'type_index', width:'0%' },\r\n                { data: 'douban_index', width:'0%' },\r\n                { data: 'state' ,width: '0%'},\r\n\r\n                { data: 'synopsis', width:'0%' },\r\n\r\n                { data: 'posters' ,width: '0%'},\r\n                { data: 'images' ,width: '0%'},\r\n                { data: 'date' ,width: '0%'},\r\n                { data: 'operate' ,width: '0%'}\r\n\r\n            ],\r\n            language: {\r\n                lengthMenu:\"每页显示_MENU_条\",\r\n                search:\"查找\",\r\n                info:\"共有(_MAX_)条,(_PAGES_)页\",\r\n                paginate: {\r\n                    first:    '首页',\r\n                    previous: '上一页',\r\n                    next:     '下一页',\r\n                    last:     '末页'\r\n                }\r\n            }\r\n        });\r\n\r\n        $(\"#serials_list\").magnificPopup({\r\n            delegate:'a',\r\n            type:\"image\"\r\n        });\r\n\r\n        $(\"#types\").tagsInput({\r\n            width:\"auto\",\r\n            height: \"auto\",\r\n            \"interactive\":true,\r\n            \"defaultText\":\"添加类型\",\r\n            \"delimiter\": [\",\",\";\",\"/\",\" \"],\r\n            \"maxChars\": 10\r\n        })\r\n        $(\"#actors\").tagsInput({\r\n            width:\"auto\",\r\n            height: \"auto\",\r\n            \"interactive\":true,\r\n            \"defaultText\":\"添加演员\",\r\n            \"delimiter\": [\",\",\";\",\"/\"],\r\n            \"maxChars\": 30\r\n        })\r\n        $(\"#tags\").tagsInput({\r\n            width:\"auto\",\r\n            height: \"auto\",\r\n            \"interactive\":true,\r\n            \"defaultText\":\"添加标签\",\r\n            \"delimiter\": [\",\",\";\",\"/\",\" \"],\r\n            \"maxChars\": 10\r\n        })\r\n\r\n        $(\"#episode_number\").spinner({\r\n            min: 0,\r\n            max: 100,\r\n            page: 3\r\n        })\r\n        $(\"#season_number\").spinner({\r\n            min: 0,\r\n            max: 100,\r\n            page: 3\r\n        })\r\n        $(\".index\").spinner({\r\n            min: 0,\r\n            max: 10,\r\n            page: 10,\r\n            step: 0.1\r\n        })\r\n        $(\"#duration\").spinner({\r\n            min: 0,\r\n            max: 511,\r\n            page: 10,\r\n            step: 1\r\n        })\r\n\r\n        $(\"#state\").selectmenu();\r\n        $(\"#district\").selectmenu();\r\n\r\n        $(\"#autoLogin\").checkboxradio({\r\n            label: \"custom label\"\r\n        });\r\n        $(\".serials_update_accordion\").accordion({\r\n            active: false,\r\n            collapsible: true,\r\n            heightStyle: \"content\",\r\n            allCollapsible: true\r\n        });\r\n\r\n\r\n        $(\"#posters\").fineUploader({\r\n            request: {\r\n                paramsInBody: false,\r\n                endpoint: \"./doSerialsAdmin.php\"\r\n            },\r\n            validation: {\r\n                acceptFiles:[\"jpeg\", 'jpg', 'png', 'gif'],\r\n                sizeLimit: 1048576  // 1024 * 1024 bytes\r\n            },\r\n            deleteFile: {\r\n                enabled:true,\r\n                params:{ \"act\":\"upload_posters\"},\r\n                forceConfirm: true,\r\n                endpoint: \"./doSerialsAdmin.php\"\r\n            }\r\n        }).on(\"error\", function(event, id, name, reason){\r\n            console.log(\"error:\" + id + \" name:\" + \" reason:\" + reason);\r\n        }).on(\"complete\", function (event, id, name, responseJSON) {\r\n            //$(\"main\").html(dump(responseJSON));\r\n            console.log(\"id: \" + id + \"\\nname: \" + name + \"\\nJSON: \" + dump(responseJSON) );\r\n        }).on(\"deleteComplete\", function(event, id, xhr, isError){\r\n            console.log(\"id: \" + id + \"\\n xhr:\" + dump(xhr) + \"\\n isError:\" + isError)\r\n        }).on(\"submit\", function(){\r\n            $(\"#posters\").fineUploader(\"setParams\", {\"act\":\"upload_posters\",\"id\":updating_id})\r\n        })\r\n\r\n        $(\"#images\").fineUploader({\r\n            request: {\r\n                paramsInBody: false,\r\n                params:{ \"act\":\"upload_images\",\"id\":0},\r\n                endpoint: \"./doSerialsAdmin.php\"\r\n            },\r\n            validation: {\r\n                acceptFiles:[\"jpeg\", 'jpg', 'png', 'gif'],\r\n                sizeLimit: 1048576  // 1024 * 1024 bytes\r\n            },\r\n            deleteFile: {\r\n                enabled:true,\r\n                params:{ \"act\":\"upload_images\"},\r\n                forceConfirm: true,\r\n                endpoint: \"./doSerialsAdmin.php\"\r\n            }\r\n        }).on(\"error\", function(event, id, name, reason){\r\n            alert(\"error:\" + id + \" name:\" + \" reason:\" + reason);\r\n        }).on(\"complete\", function (event, id, name, responseJSON) {\r\n            alert(\"id: \" + id + \"\\nname: \" + name + \"\\nJSON: \" + dump(responseJSON) );\r\n        }).on(\"deleteComplete\", function(event, id, xhr, isError){\r\n            alert(\"id: \" + id + \"\\n xhr:\" + dump(xhr) + \"\\n isError:\" + isError)\r\n        }).on(\"submit\", function(){\r\n            $(\"#images\").fineUploader(\"setParams\", {\"act\":\"upload_images\",\"id\":updating_id})\r\n        })\r\n    }\r\n\r\n    // 绑定监听事件\r\n    function bindEvents(){\r\n\r\n        // 添加页面，添加按钮\r\n        $(\"#insert_serials\").on(\"submit\", \"form\", function(event){\r\n            var option = {};\r\n            event.preventDefault();\r\n\r\n            option = {\r\n                url:\"doSerialsAdmin.php?act=insert\",\r\n                data:$(this).serialize(),\r\n                method:\"post\",\r\n                success:function(response){\r\n                    var res = JSON.parse(response);\r\n                    if(res['error']){\r\n                        alert(res['error'])\r\n                    } else {\r\n                        alert(\"添加成功\")\r\n                        updating_id = res['id'];\r\n                        $(\"#submit_all_btn\").attr(\"class\",\"update_it\").text(\"提 交\");\r\n\r\n                        // 跳转到修改页面\r\n                        $(\"#update_serials\").click();\r\n                        $(\"#update_serial_name\").val( $(\"#serial_name\").val() )\r\n                        $(\"#update_serial_fname\").val( $(\"#serial_fname\").val() )\r\n                    }\r\n\r\n                }\r\n            }\r\n\r\n            $.ajax(option);\r\n        });\r\n\r\n        // 修改表格，底部提交按钮\r\n        $(\"#submit_all_btn\").on(\"click\",function(){\r\n            var data = $(\"#update_name\").serialize() + \"&\" + $(\"#add_participant\").serialize() + \"&\" +\r\n                       $(\"#add_classification\").serialize() + \"&\" + $(\"#add_episode_time\").serialize() + \"&\" +\r\n                       $(\"#add_index\").serialize() + \"&\" + $(\"#add_synopsis\").serialize(),\r\n                updateOption = {},\r\n                addOption = {};\r\n\r\n            // 当有对应id时发送更新请求，无id时发送插入骑请求\r\n            updateOption = {\r\n                url:\"doSerialsAdmin.php?act=update&id=\" + updating_id,\r\n                data:data,\r\n                method:\"post\",\r\n                success:function(response){\r\n                    var res = JSON.parse(response);\r\n                    if(res['error']){\r\n                        alert(res['error'])\r\n                    } else {\r\n                        alert(\"更新成功！\");\r\n                        resetForm();\r\n                    }\r\n                }\r\n            };\r\n\r\n            addOption = {\r\n                url:\"doSerialsAdmin.php?act=insert\",\r\n                data:data,\r\n                method:\"post\",\r\n                success:function(response){\r\n                    var res = JSON.parse(response);\r\n                    if(res['error']){\r\n                        alert(res['error'])\r\n                    } else {\r\n                        alert(\"添加成功！\");\r\n                        updating_id = res['id'];\r\n                        $(\"#submit_all_btn\").attr(\"class\",\"update_it\").text(\"提 交\");\r\n                    }\r\n                }\r\n            }\r\n\r\n            if($(this).attr(\"class\") == \"update_it\" ){\r\n                $.ajax(updateOption);\r\n            }\r\n            if($(this).attr(\"class\") == \"add_new\"){\r\n                $.ajax(addOption);\r\n            }\r\n        });\r\n\r\n        // 修改表格，底部删除按钮\r\n        $(\"#delete_it_btn\").on(\"click\", function(){\r\n            if( !(updating_id > 0) ){\r\n                alert(\"未选中条目！\");\r\n                return;\r\n            }\r\n            if(!confirm(\"确认要删除这条数据？\")){\r\n                return;\r\n            }\r\n            var option = {\r\n                type: \"post\",\r\n                url: \"doSerialsAdmin.php?act=delete&id=\" + updating_id,\r\n                error:function () {},\r\n                success: function(response){\r\n                    var res = JSON.parse(response);\r\n                    if(!res['success']){\r\n                        alert(res[\"error\"]);\r\n                        return;\r\n                    }\r\n                    resetForm();\r\n                    alert(\"删除成功\");\r\n\r\n                }\r\n            }\r\n            $.ajax(option);\r\n        });\r\n\r\n        // 修改表格，底部取消按钮\r\n        $(\"#cancel_it_btn\").on(\"click\", function(){\r\n            resetForm();\r\n        })\r\n\r\n        // 列表显示，修改按钮\r\n        $(\"#serials_list\").on(\"click\", \".update_btn\", function(){\r\n            updating_id = $(this).attr(\"data-id\");\r\n            var option = {\r\n                type:\"get\",\r\n                url:\"doSerialsAdmin.php?act=get&id=\"+ updating_id,\r\n                error:function(){\r\n                    alert(\"获取数据失败\");\r\n                },\r\n                success: function(response){\r\n                    var res = JSON.parse(response),\r\n                        data = res['data'][0];\r\n\r\n                    console.log(response);\r\n                    // 跳转到修改页面\r\n                    $(\"#update_serial_name\").val(data['c_name']);\r\n                    $(\"#update_serial_fname\").val(data['f_name']);\r\n                    $(\"#director\").val(data['director']);\r\n                    $(\"#actors\").importTags(data['actors']);\r\n                    $(\"#issuer\").val(data['issuer']);\r\n                    $(\"#types\").importTags(data['types']);\r\n\r\n                    $(\"#district option\").filter(\"[selected=selected]\").removeAttr(\"selected\");\r\n                    $(\"#district option\").filter(\"[value=\" + data['district'] + \"]\").attr(\"selected\",true);\r\n                    $( \"#district\" ).selectmenu( \"refresh\" );\r\n\r\n                    $(\"#state option\").filter(\"[selected=selected]\").removeAttr(\"selected\");\r\n                    $(\"#state option\").filter(\"[value=\" + data['state'] + \"]\").attr(\"selected\",true);\r\n                    $( \"#state\" ).selectmenu( \"refresh\" );\r\n\r\n                    $(\"#tags\").importTags(data['tags']);\r\n                    $(\"#release_date\").val(data['release_date']);\r\n                    $(\"#duration\").val(data['duration']);\r\n\r\n                    $(\"#episode_number\").val(data['episode_number']);\r\n                    $(\"#season_number\").val(data['season_number']);\r\n                    $(\"#update_reco_index\").val(data['reco_index']);\r\n                    $(\"#update_type_index\").val(data['type_index']);\r\n                    $(\"#update_douban_index\").val(data['douban_index']);\r\n                    $(\"#update_synopsis\").val(data['synopsis']);\r\n\r\n                    $(\"#submit_all_btn\").attr(\"class\",\"update_it\").text(\"提 交\");\r\n                    $(\"#update_serials\").click();\r\n\r\n                }\r\n            }\r\n            $.ajax(option);\r\n\r\n        })\r\n\r\n        // 列表显示，删除按钮\r\n        $(\"#serials_list\").on(\"click\", \".delete_btn\", function(){\r\n            var _this = this;\r\n            if(confirm(\"确定要删除这条数据？\")){\r\n                var option = {\r\n                    type: \"post\",\r\n                    url: \"doSerialsAdmin.php?act=delete&id=\" + $(this).attr(\"data-id\"),\r\n                    error:function () {},\r\n                    success: function(response){\r\n                        var res = JSON.parse(response);\r\n                        if(!res['success']){\r\n                            alert(res[\"error\"]);\r\n                            return;\r\n                        }\r\n\r\n                        table.api().ajax.url(\"doSerialsAdmin.php?act=get&page=1&pageSize=999\").load();\r\n                        alert(\"删除成功\");\r\n\r\n                    }\r\n                }\r\n                $.ajax(option);\r\n            }\r\n        })\r\n\r\n        // 修改页面，各部分提交按钮\r\n        $(\".serials_update_accordion\").on(\"submit\", \"form\", function(event){\r\n            event.preventDefault();\r\n            if( !(updating_id > 0) ){\r\n                alert(\"请先添加数据\");\r\n                return;\r\n            }\r\n\r\n            var update = $(this).attr(\"id\"),\r\n                data = $(this).serialize();\r\n\r\n            var option = {\r\n                url:\"doSerialsAdmin.php?id=\" + updating_id + \"&act=update\",\r\n                data:data,\r\n                method:\"post\",\r\n                success:function(response){\r\n                    var res = JSON.parse(response);\r\n                    if(res['success']){\r\n                        alert(\"添加成功\");\r\n                    } else {\r\n                        console.log(response)\r\n                        alert(res['error']);\r\n                    }\r\n\r\n                }\r\n            }\r\n            $.ajax(option)\r\n        })\r\n    }\r\n\r\n    // 重设修改表格\r\n    function resetForm(){\r\n        // todo:reset fine uploader\r\n        $(\"#submit_all_btn\").attr(\"class\",\"add_new\").text(\"添 加\");\r\n        updating_id = 0;\r\n        $(\"#update_name\")[0].reset();\r\n        $(\"#add_participant\")[0].reset();\r\n        $(\"#add_classification\")[0].reset();\r\n        $(\"#add_episode_time\")[0].reset();\r\n        $(\"#add_index\")[0].reset();\r\n        $(\"#add_synopsis\")[0].reset();\r\n        $(\"#posters\").fineUploader(\"reset\");\r\n        $(\"#images\").fineUploader(\"reset\");\r\n\r\n    }\r\n\r\n    return {\r\n        init:init,\r\n        show: show,\r\n        hide: function(){\r\n            $(container).hide();\r\n        }\r\n    };\r\n\r\n})(window)\r\n\r\n\r\n\r\n"]}